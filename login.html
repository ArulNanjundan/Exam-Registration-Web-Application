<!DOCTYPE html>
<html>
    <head>
        <title>Exam Registration</title>
        <link rel="stylesheet" href="home.css">
        <link rel="stylesheet" href="login.css">
        <link rel="stylesheet" href="index.css">
    </head> 
    <body>
        <h2 style="color:blue;">Login</h2><hr>
        <div class="background"></div>
        <div class="menu">
            <div class="item"><a href="about.html" style="font-size: 19px;">About Us</a></div>
            <div class="item"><a href="home.html" style="font-size: 19px;">Home</a></div>
        </div>
        <center>
            <img src="tn_govt.png" alt="Tamil Nadu Government Logo"><br>     
            <b class="heading">அரசுத் தேர்வுகள் இயக்ககம்<br>
            Directorate of Government Examinations</b>
        </center>
        <center>
            <div class="log">
                <div class="info">
                    <form action="login.php" onsubmit="return form_validation()" method="POST" autocomplete="off">
                        <h2 style="color: blueviolet;">Sign in with Your Email</h2>
                        <table cellpadding="5px" cellspacing="10px">
                            <tr>
                                <td align="right">
                                    <label>User Name:</label><sup>*</sup>
                                </td>
                                <td>
                                    <input type="text" placeholder="name@gmail.com" oninput="username_validation()" id="user_name" name="user_name" autocomplete="off">
                                    <div class="error" id="user_name_error">
                                        Must end with @gmail.com
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td align="right">
                                    <label>Password:</label><sup>*</sup>
                                </td>
                                <td>
                                    <input type="password" placeholder="Enter your password" oninput="pass_validation()" id="password" name="password" autocomplete="new-password">
                                    <div class="error" id="confirm_pass_error">upper,lower,digit and special character present(8-16 characters)</div>
                                </td>
                            </tr>
                            <tr>
                                <td align="start">
                                    <p style="font-size: 18px;">Don't have an account? <a href="new_log.html">Sign Up</a></p>
                                </td>
                                <td align="end">
                                    <a href="forget_pass.html" target="_parent">Forgot password?</a>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" align="center">
                                    <button type="submit">LOGIN</button>
                                </td>
                            </tr>
                        </table>
                    </form>
                </div>
            </div>
        </center>

        <script>
            function username_validation() {
                const name = document.getElementById('user_name').value.trim();
                const name_error = document.getElementById('user_name_error');
                const regex = /^[a-zA-Z0-9_]+@gmail\.com$/;
        
                if (regex.test(name)) {
                    name_error.style.display = 'none';
                    return true;
                } else {
                    name_error.style.display = 'block';
                    return false;
                }
            }
        
            function pass_validation() {
                
            }
        
            function form_validation() {
                const name = document.getElementById('user_name').value;
                const pass = document.getElementById('password').value;
                const userValid = username_validation();
                const passValid = pass_validation();
                
                if (!(name === '')) {
                    if (!(userValid)) {
                        alert('User name Field is not Valid.');
                        return false;
                    } else {
                        if (!(pass === '')) {
                            const confirm_password=document.getElementById('password').value;
                            const confirm_password_error=document.getElementById('confirm_pass_error');
                            const regex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,16}$/;
                            if(regex.test(confirm_password)){
                                confirm_password_error.style.display='none';
                                return true;
                            }
                            else{
                                alert('Password is not valid.');
                                return false;
                            }
                        } 
                        else {
                            alert('Password Field is not Filled. Plz fill it...!');
                            return false;
                        }
                    }
                } 
                else {
                    alert('Name Field is not Filled. Plz fill it...!');
                    return false;
                }
            }
        </script>        
    </body>
</html>