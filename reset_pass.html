<!DOCTYPE html>
<html>
    <head>
        <title>Exam Registration</title>
        <link rel="stylesheet" href="home.css">
        <link rel="stylesheet" href="login.css">
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="reg.css">
    </head> 
    <body>
        <h2 style="color: blue;">Reset Password</h2><hr>
        <div class="background"></div>
        <div class="menu">
            <div class="item"><a href="about.html">About Us</a></div>
            <div class="item"><a href="home.html">Home</a></div>
        </div>
        <center>
            <img src="tn_govt.png"><br>     
            <b class="heading">அரசுத் தேர்வுகள் இயக்ககம்<br>
                Directorate of Government Examinations </b>
        </center>
        <center>
        <div class="log">
            <div class="info">
                <form action="reg.html" onsubmit="return form_validation()">
                    <table cellpadding="5px" cellspacing="10px">
                        <H2 style="color:rgb(120, 24, 120); ">Reset Password</H2>
                        <tr>
                            <td align="end">
                                <label> Reset Password:</label> <sup>*</sup>
                               
                            </td>
                            <td>
                                <input type="password" placeholder="enter password" oninput="current_pass_validation()" id="current_password">
                                <div class="error" id="current_pass_error">upper, lower, digit and special character (8-16 characters)</div>
                                <div class="error" id="match_pass_error_1">Password Do not Match </div>
                            </td>
                        </tr>
                        <tr>
                            <td align="end">
                                <label> Confirm Password:</label><sup>*</sup>
                                
                            </td>
                            <td>
                                <input type="password" placeholder="enter password" oninput="confirm_pass_validation()" id="confirm_password">
                                <div class="error" id="confirm_pass_error">upper, lower, digit and special character (8-16 characters)</div>
                                <div class="error" id="match_pass_error_2">Password Do not Match</div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" align="center">
                                <button type="submit">RESET PASSWORD</button>
                            </td>
                        </tr>
                        
                    </table>
                </form>
            </div>
        </div> 
    </center>
    
<script>
    function current_pass_validation(){
         const current_password=document.getElementById('current_password').value;
        const current_password_error=document.getElementById('current_pass_error');
        const regex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,16}$/;
        if(regex.test(current_password)){
            current_password_error.style.display='none';
            return true;
        }
        else{
            current_password_error.style.display='block';
            return false;
        }
    }
    function confirm_pass_validation(){
        const confirm_password=document.getElementById('confirm_password').value;
        const confirm_password_error=document.getElementById('confirm_pass_error');
        const regex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,16}$/;
        if(regex.test(confirm_password)){
            confirm_password_error.style.display='none';
            return true;
        }
        else{
            confirm_password_error.style.display='block';
            return false;
        }
    }
    
    
    function form_validation(){
        const pass = current_pass_validation();
        const cpass = confirm_pass_validation();
        const current_pass = document.getElementById('current_password').value;
        const confirm_pass = document.getElementById('confirm_password').value;
        const match_error_1 = document.getElementById('match_pass_error_1');
        const match_error_2 = document.getElementById('match_pass_error_2');
        if(!(current_pass==='')) 
        { 
            if(!(confirm_pass===''))
            { 
                if(pass && cpass)
                {
                    if(current_pass !== confirm_pass)
                    {
                        alert('Mismatch the password');
                        match_error_1.style.display = 'block';
                        match_error_2.style.display = 'block';
                        return false;
                    } 
                    else 
                    {
                        match_error_1.style.display = 'none';
                        match_error_2.style.display = 'none';
                        return true;
                    }
                }

                else
                {
                    return false;
                }
            }
            else{
                alert('Confirm Password field is empty');
                return false;
            }
        }
        else{
            alert('Reset Password field is empty');
            return false;
        }
    }
</script>
</body>   
</html>

